@page "/login"
@using Data
@using GarangeInventory.Storage
@inject Data.UserService UserData
@inject NavigationManager MyNavigationManager

<PageTitle>Garage Inventory Login</PageTitle>
<h3>Enter your Username</h3>
<input @bind=UsernameInput />
<br />
<button class="btn btn-outline-primary" @onclick=GetUserCheckMessage title="Let's log in.">Don't Click me</button>

<p>@notValidLogin</p>

@code {
    [Parameter]
    public string UsernameInput { get; set; }
    private string notValidLogin { get; set; }
    private bool isUser { get; set; }
    private void GetUserCheckMessage()
    {
        if (UsernameInput == null)
        {
            notValidLogin = "Login not valid!";
        }
        isUser = UserData.GetUserCheck(UsernameInput);
        if (isUser)
        {
            notValidLogin = "";
            MyNavigationManager.NavigateTo($"/dashboard/{UserData.User.Name}");
        }
    }
}